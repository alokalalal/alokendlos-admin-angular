<div #dynamicComponentContainer></div>
<div class="col-sm-12 material-card">
    <mat-card appMaterialElevation class="h-100">
        <mat-card-content>
            <card-or-list-view #cardOrListViewComponent *blockUI="'listContainerBlockUi'" [listContainer]="listContainer" (addEventEmitter)="addEventEmitCall()"
            (searchEventEmitter)="searchEventEmitCall()" (addExport)="export()" [start]="start" [pageSize]="pageSize"
            [recordSize]="recordSize">
            <ng-template listItem let-items>
                
                    <div class="table-responsive" *ngIf="cardOrListViewComponent?.items != undefined">
                        <table mat-table class="mat-elevation-z8" class="table" 
                            [dataSource]="cardOrListViewComponent.items">
                            <thead>
                                <ng-container matColumnDef="name">
                                    <th id="name" class="width-15" mat-header-cell *matHeaderCellDef style="color: black;font-weight: bold;">
                                        Name </th>
                                    <td mat-cell *matCellDef="let item">
                                        <span>{{item.name}}</span>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="address">
                                    <th id="address" class="width-15" mat-header-cell *matHeaderCellDef style="color: black;font-weight: bold;">
                                        Address </th>
                                    <td mat-cell *matCellDef="let item">
                                        <span>{{item.address}}</span>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="area">
                                    <th id="area" class="width-15" mat-header-cell *matHeaderCellDef style="color: black;font-weight: bold;">
                                        Area </th>
                                    <td mat-cell *matCellDef="let item">
                                        <span>{{item.area}}</span>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="country">
                                    <th id="country" class="width-15" mat-header-cell *matHeaderCellDef style="color: black;font-weight: bold;">
                                        Country </th>
                                    <td mat-cell *matCellDef="let item">
                                        {{item.countryView?.value}}
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="city">
                                    <th id="cityView" class="width-15" mat-header-cell *matHeaderCellDef style="color: black;font-weight: bold;">
                                        City </th>
                                    <td mat-cell *matCellDef="let item">
                                        <span *ngIf="item.cityView != undefined">{{item.cityView.value}}</span>
                                        <span *ngIf="item.cityView == undefined">{{item.cityName}}</span>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="branchNumber">
                                    <th id="branchName" class="width-15" mat-header-cell *matHeaderCellDef style="color: black;font-weight: bold;">
                                        Branch Number </th>
                                    <td mat-cell *matCellDef="let item">
                                        <span>{{item.branchNumber}}</span>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="pickupRoute">
                                    <th id="pickupRoute" class="width-15" mat-header-cell *matHeaderCellDef style="color: black;font-weight: bold;">
                                        Pickup Route </th>
                                    <td mat-cell *matCellDef="let item">
                                        <span> {{item.pickupRouteView?.value}}</span>
                                        
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="positionRoute">
                                    <th id="positionRoute" class="width-15" mat-header-cell *matHeaderCellDef style="color: black;font-weight: bold;">
                                        Position in Route </th>
                                    <td mat-cell *matCellDef="let item">
                                        <span>{{item.positionRoute}}</span>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="workDuringWeekend">
                                    <th id="workDuringWeekend" class="width-15" mat-header-cell *matHeaderCellDef style="color: black;font-weight: bold;">
                                        Work During Weekends </th>
                                    <td mat-cell *matCellDef="let item">
                                        <span *ngIf="item.workDuringWeekends==false" [ngStyle]="{ 'color':'red'}">No</span>
                                        <span *ngIf="item.workDuringWeekends==true" [ngStyle]="{ 'color':'green'}">Yes</span>
                                        <span *ngIf="item.workDuringWeekends === undefined">-</span>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="pickupEveryDay">
                                    <th id="pickupEveryDay" class="width-15" mat-header-cell *matHeaderCellDef style="color: black;font-weight: bold;">
                                        Pickup Everyday </th>
                                    <td mat-cell *matCellDef="let item">
                                        <span *ngIf="item.pickupEveryday==false" [ngStyle]="{ 'color':'red'}">No</span>
                                        <span *ngIf="item.pickupEveryday==true" [ngStyle]="{ 'color':'green'}">Yes</span>
                                        <span *ngIf="item.pickupEveryday === undefined">-</span>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="numberOfGlassTanks">
                                    <th id="numberOfGlassTanks" class="width-15" mat-header-cell *matHeaderCellDef style="color: black;font-weight: bold;">
                                        Number of Glass Tanks </th>
                                    <td mat-cell *matCellDef="let item">
                                        <span>{{item.numberOfGlassTanks}}</span>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="glassFullnessPercentageForPickup">
                                    <th id="glassFullnessPercentageForPickup" class="width-15" mat-header-cell *matHeaderCellDef style="color: black;font-weight: bold;">
                                        Glass fullness Percentage for Pickup </th>
                                    <td mat-cell *matCellDef="let item">
                                        <span>{{item.glassFullnessPercentageForPickup}}</span>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="action">
                                    <th id="action" class="width-20" mat-header-cell *matHeaderCellDef style="color: black;font-weight: bold;">
                                        Action </th>
                                    <td mat-cell *matCellDef="let item">
                                        <ng-container *ngIf="item.machineView == undefined">
                                            <ng-container *ngIf="listContainer.accessRightsJson.isAccessRightView">
                                                <button mat-icon-button color="primary" (click)="editLocation(item, true)">
                                                    <mat-icon>mode_edit</mat-icon>
                                                </button>
                                            </ng-container>
                                        </ng-container>    
                                        <ng-container *ngIf="item.machineView != undefined">
                                            <ng-container *ngIf="listContainer.accessRightsJson.isAccessRightView">
                                                <button mat-icon-button color="primary" (click)="editLocation(item, false)">
                                                    <mat-icon>mode_edit</mat-icon>
                                                </button>
                                            </ng-container>
                                        </ng-container>                                     
                                        <ng-container *ngIf="listContainer.accessRightsJson.isAccessRightDelete && item.machineView == undefined">
                                            <button mat-icon-button (click)="delete(item)" color="primary" matTooltip="Delete Branch">
                                                <mat-icon>delete</mat-icon>
                                            </button>
                                        </ng-container>
                                    </td>
                                </ng-container>
                            </thead>
                            <tbody>
                                <tr mat-header-row
                                    *matHeaderRowDef="['name','address','area','country','city','branchNumber','pickupRoute','positionRoute','workDuringWeekend','pickupEveryDay','numberOfGlassTanks','glassFullnessPercentageForPickup','action']">
                                </tr>
                                <tr mat-row
                                    *matRowDef="let row; columns: ['name','address','area','country','city','branchNumber','pickupRoute','positionRoute','workDuringWeekend','pickupEveryDay','numberOfGlassTanks','glassFullnessPercentageForPickup','action'];">
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </ng-template>
            </card-or-list-view>
        </mat-card-content>
    </mat-card>
</div>
