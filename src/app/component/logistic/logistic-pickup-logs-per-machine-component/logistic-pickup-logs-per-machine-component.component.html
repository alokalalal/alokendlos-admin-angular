<div #dynamicComponentContainer></div>
<div class="col-sm-12 material-card">
    <mat-card appMaterialElevation class="h-100">
        <mat-card-content>  
            <card-or-list-view #cardOrListViewComponent [listContainer]="listContainer" (searchEventEmitter)="searchEventEmitCall()" (addExport)="export()" [start]="start" [pageSize]="pageSize" [recordSize]="recordSize">
        
            <ng-template listItem let-items>
                 <div class="table-responsive" *ngIf="cardOrListViewComponent?.items != undefined">
                    <table mat-table class="mat-elevation-z8" class="table" *blockUI="'listContainerBlockUi'" [dataSource]="cardOrListViewComponent.items" matSort (matSortChange)="sortData($event)">
                        <thead>
                            <ng-container matColumnDef="customerView">
                                <th id="customerView" class="width-60" mat-header-cell *matHeaderCellDef  style="color: black;font-weight: bold;">
                                    Store&nbsp;Chain 
                                </th>
                                <td mat-cell *matCellDef="let item">
                                    <span>{{item.locationView?.customerView?.name}}</span>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="locationView">
                                <th id="locationView" class="width-60" mat-header-cell *matHeaderCellDef  style="color: black;font-weight: bold;">
                                    Branch
                                </th>
                                <td mat-cell *matCellDef="let item">
                                    <span>{{item.locationView?.name}}</span>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="machineView">
                                <th id="machineView" class="width-60" mat-header-cell *matHeaderCellDef  style="color: black;font-weight: bold;">
                                    Machine ID 
                                </th>
                                <td mat-cell *matCellDef="let item">
                                    <span>{{item.machineView?.machineId}}</span>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="name">
                                <th mat-sort-header="name" id="name" class="width-15" mat-header-cell *matHeaderCellDef  style="color: black;font-weight: bold;">
                                    Pickup Route Name
                                </th>
                                <td mat-cell *matCellDef="let item">
                                    <span>{{item.locationView?.pickupRouteView?.value}}</span>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="dateOfFullReset">
                                <th mat-sort-header="dateOfFullReset" id="dateOfFullReset" class="width-15" mat-header-cell *matHeaderCellDef  style="color: black;font-weight: bold;">
                                    Date of Full Reset
                                </th>
                                <td mat-cell *matCellDef="let item">
                                    <span>{{item.date  * 1000| date:'medium'}}</span>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="timeOfFullReset">
                                <th mat-sort-header="timeOfFullReset" id="timeOfFullReset" class="width-15" mat-header-cell *matHeaderCellDef  style="color: black;font-weight: bold;">
                                    Time of Full Reset
                                </th>
                                <td mat-cell *matCellDef="let item">
                                    <span>{{item.date * 1000| date:'mediumTime' }}</span>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="numberOfPlasticBottlesInPickup">
                                <th id="numberOfPlasticBottlesInPickup" class="width-15" mat-header-cell *matHeaderCellDef  style="color: black;font-weight: bold;">
                                    Number of plastic bottles In Pickup
                                </th>
                                <td mat-cell *matCellDef="let item">
                                    <span>{{item.numberOfPlasticBottlesSinceLastFullReset}}</span>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="numberOfAluminumBottlesInPickup">
                                <th id="numberOfAluminumBottlesInPickup" class="width-60" mat-header-cell *matHeaderCellDef  style="color: black;font-weight: bold;">
                                    Number of Aluminum Bottles In Pickup
                                </th>
                                <td mat-cell *matCellDef="let item">
                                    <span>{{item.numberOfAluminumBottlesSinceLastFullReset}}</span>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="numberOfGlassBottlesInPickup">
                                <th id="numberOfGlassBottlesInPickup" class="width-60" mat-header-cell *matHeaderCellDef  style="color: black;font-weight: bold;">
                                    Number of Glass Bottles In Pickup
                                </th>
                                <td mat-cell *matCellDef="let item">
                                    <span>{{item.numberOfGlassBottlesSinceLastFullReset}}</span>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="totalWeightOfPickupInKg">
                                <th id="totalWeightOfPickupInKg" class="width-60" mat-header-cell *matHeaderCellDef  style="color: black;font-weight: bold;">
                                    Total Weight of Pickup(kg)
                                </th>
                                <td mat-cell *matCellDef="let item">
                                    <span>{{item.totalWeightOfPickup / 1000}}</span>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="total">
                                <th id="total" class="width-60" mat-header-cell *matHeaderCellDef  style="color: black;font-weight: bold;">
                                    Total</th>
                                <td mat-cell *matCellDef="let item">
                                    <span>{{item.numberOfPlasticBottlesSinceLastFullReset + item.numberOfAluminumBottlesSinceLastFullReset + item.numberOfGlassBottlesSinceLastFullReset}}</span>
                                </td>
                            </ng-container>
                        </thead>
        
                        <tbody>
                            <tr mat-header-row *matHeaderRowDef="['customerView','locationView','machineView','name','dateOfFullReset','timeOfFullReset','numberOfPlasticBottlesInPickup','numberOfAluminumBottlesInPickup','numberOfGlassBottlesInPickup','totalWeightOfPickupInKg','total']"></tr>
                            <tr mat-row *matRowDef="let row; columns: ['customerView','locationView','machineView','name','dateOfFullReset','timeOfFullReset','numberOfPlasticBottlesInPickup','numberOfAluminumBottlesInPickup','numberOfGlassBottlesInPickup','totalWeightOfPickupInKg','total'];"></tr>
                        </tbody>
        
                    </table>
                </div>
            </ng-template> 
        </card-or-list-view>
        </mat-card-content>
    </mat-card>
</div>