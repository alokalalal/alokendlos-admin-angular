<div #dynamicComponentContainer></div>
<div class="col-sm-12 material-card">
    <mat-card appMaterialElevation class="h-100">
        <mat-card-content>  
            <card-or-list-view #cardOrListViewComponent [listContainer]="listContainer" (searchEventEmitter)="searchEventEmitCall()"
            [start]="start" [pageSize]="pageSize" [recordSize]="recordSize">
        
            <ng-template listItem let-items>
                 <div class="table-responsive" *ngIf="cardOrListViewComponent?.items != undefined">
                    <table mat-table class="mat-elevation-z8" class="table" *blockUI="'listContainerBlockUi'" [dataSource]="cardOrListViewComponent.items">
                        <thead>
                            <ng-container matColumnDef="customerName">
                                <th id="customerName" class="width-15" mat-header-cell *matHeaderCellDef  style="color: black;font-weight: bold;">
                                    Customer Name
                                </th>
                                <td mat-cell *matCellDef="let item">
                                    <span>{{item.customerView.name}}</span>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="branchName">
                                <th id="branchName" class="width-15" mat-header-cell *matHeaderCellDef  style="color: black;font-weight: bold;">
                                    Branch Name </th>
                                <td mat-cell *matCellDef="let item">
                                    <span>{{item.locationView.name}}</span>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="machineId">
                                <th id="machineId" class="width-15" mat-header-cell *matHeaderCellDef  style="color: black;font-weight: bold;">
                                    Machine Id </th>
                                <td mat-cell *matCellDef="let item">
                                    <span>{{item.machineId}}</span>
                                </td>
                            </ng-container>

                           <!--  <ng-container matColumnDef="technicalStatus">
                                <th id="technicalStatus" class="width-15" mat-header-cell *matHeaderCellDef  style="color: black;font-weight: bold;">
                                    Technical Status </th>
                                <td mat-cell *matCellDef="let item">
                                    <span>{{item.machineActivityStatus?.value}}</span>
                                </td>
                            </ng-container> -->

                            <ng-container matColumnDef="pickupRootName">
                                <th id="pickupRootName" class="width-60" mat-header-cell *matHeaderCellDef  style="color: black;font-weight: bold;">
                                    Pickup Route Name </th>
                                <td mat-cell *matCellDef="let item">
                                    <span>{{item.locationView.pickupRouteView1.name}}</span>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="orderOfPickupRoute">
                                <th id="orderOfPickupRoute" class="width-60" mat-header-cell *matHeaderCellDef  style="color: black;font-weight: bold;">
                                    Order Of Pickup Route</th>
                                <td mat-cell *matCellDef="let item">
                                    <span>{{item.locationView.positionRoute}}</span>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="lastPickupDate">
                                <th id="lastPickupDate" class="width-60" mat-header-cell *matHeaderCellDef  style="color: black;font-weight: bold;">
                                    Date Of Last Pickup </th>
                                <td mat-cell *matCellDef="let item">
                                    <span>{{item.lastHardResetDate  * 1000| date:'medium'}}</span>
                                </td>
                            </ng-container>
                           <!--  <ng-container matColumnDef="lastPickupDate">
                                <th id="lastPickupDate" class="width-60" mat-header-cell *matHeaderCellDef style="color: black; font-weight: bold;">
                                    Date Of Last Pickup
                                </th>
                                <td mat-cell *matCellDef="let item">
                                    <span>{{ item.lastHardResetDate ? (item.lastHardResetDate * 1000 | date:'medium') : '-' }}</span>
                                </td>
                            </ng-container> -->
                            <ng-container matColumnDef="hoursFromPickup">
                                <th id="hoursFromPickup" class="width-60" mat-header-cell *matHeaderCellDef  style="color: black;font-weight: bold;">
                                   Hours From Last Pickup</th>
                                <td mat-cell *matCellDef="let item">
                                    <span>{{item.hoursFromPickup}}</span>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="numberOfGlassTanks">
                                <th id="numberOfGlassTanks" class="width-60" mat-header-cell *matHeaderCellDef  style="color: black;font-weight: bold;">
                                   Number Of Glass Tanks</th>
                                <td mat-cell *matCellDef="let item">
                                    <span>{{item.locationView.numberOfGlassTanks}}</span>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="numbersOfGlassReset">
                                <th id="numbersOfGlassReset" class="width-60" mat-header-cell *matHeaderCellDef  style="color: black;font-weight: bold;">
                                   Number Of Glass Resets</th>
                                <td mat-cell *matCellDef="let item">
                                    <span>{{item.glassResetCount}}</span>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="numbersOfPatReset">
                                <th id="numbersOfPatReset" class="width-60" mat-header-cell *matHeaderCellDef  style="color: black;font-weight: bold;">
                                   Number Of Plastic Resets</th>
                                <td mat-cell *matCellDef="let item">
                                    <span>{{item.plasticResetCount}}</span>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="numbersOfAluReset">
                                <th id="numbersOfAluReset" class="width-60" mat-header-cell *matHeaderCellDef  style="color: black;font-weight: bold;">
                                   Number Of Aluminiumn Resets</th>
                                <td mat-cell *matCellDef="let item">
                                    <span>{{item.aluminiumnResetCount}}</span>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="totalBottles">
                                <th id="totalBottles" class="width-60" mat-header-cell *matHeaderCellDef  style="color: black;font-weight: bold;">
                                   Total Number Of Bottles</th>
                                <td mat-cell *matCellDef="let item">
                                    <span>{{item.totalBottleCount}}</span>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="totalVouchers">
                                <th id="totalVouchers" class="width-60" mat-header-cell *matHeaderCellDef  style="color: black;font-weight: bold;">
                                   Total Number Of Vouchers</th>
                                <td mat-cell *matCellDef="let item">
                                    <span>{{item.totalVoucher}}</span>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="noGlassBinPickup">
                                <th id="noGlassBinPickup" class="width-60" mat-header-cell *matHeaderCellDef  style="color: black;font-weight: bold;">
                                    Number Of Glass Bin Pickup</th>
                                <td mat-cell *matCellDef="let item">
                                    <span>{{item.noGlassBinPickup}}</span>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="materialWeight">
                                <th id="materialWeight" class="width-60" mat-header-cell *matHeaderCellDef  style="color: black;font-weight: bold;">
                                Material Weight</th>
                                <td mat-cell *matCellDef="let item">
                                    <span>{{item.materialWeight}}</span>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="binWeight">
                                <th id="binWeight" class="width-60" mat-header-cell *matHeaderCellDef  style="color: black;font-weight: bold;">
                                Bin Weight</th>
                                <td mat-cell *matCellDef="let item">
                                    <span>{{item.binWeight}}</span>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="totalWeight">
                                <th id="totalWeight" class="width-60" mat-header-cell *matHeaderCellDef  style="color: black;font-weight: bold;">
                                Total Weight</th>
                                <td mat-cell *matCellDef="let item">
                                    <span>{{item.totalWight}}</span>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="pickupEveryday">
                                <th id="pickupEveryday" class="width-60" mat-header-cell *matHeaderCellDef  style="color: black;font-weight: bold;">
                                    Is Pickup Tommorow ?    </th>
                                    <td mat-cell *matCellDef="let item">
                                        <mat-checkbox
                                          [id]="'pickupEveryday_' + item.id"
                                          [(ngModel)]="item.pickupEveryday">
                                        </mat-checkbox>
                                        <!-- <mat-checkbox id="{{item.id}}" [(ngModel)]="item.isSelect" (change)="updatePickupStatus(item)"> -->
                                        <!-- </mat-checkbox> -->
                                      </td>
                            </ng-container>
                            </thead>
        
                        <tbody>
                            <!-- <tr mat-header-row *matHeaderRowDef="['customerName','branchName','machineId','technicalStatus','pickupRootName','orderOfPickupRoute','lastPickupDate','hoursFromPickup','numberOfGlassTanks','numbersOfGlassReset','numbersOfPatReset','numbersOfAluReset','totalBottles','totalVouchers','noGlassBinPickup','materialWeight','binWeight','totalWeight','pickupEveryday']"></tr>
                            <tr mat-row *matRowDef="let row; columns: ['customerName','branchName','machineId','technicalStatus','pickupRootName','orderOfPickupRoute','lastPickupDate','hoursFromPickup','numberOfGlassTanks','numbersOfGlassReset','numbersOfPatReset','numbersOfAluReset','totalBottles','totalVouchers','noGlassBinPickup','materialWeight','binWeight','totalWeight','pickupEveryday'];"></tr> -->

                            <tr mat-header-row *matHeaderRowDef="['customerName','branchName','machineId','pickupRootName','orderOfPickupRoute','lastPickupDate','hoursFromPickup','numberOfGlassTanks','numbersOfGlassReset','numbersOfPatReset','numbersOfAluReset','totalBottles','totalVouchers','noGlassBinPickup','materialWeight','binWeight','totalWeight','pickupEveryday']"></tr>
                            <tr mat-row *matRowDef="let row; columns: ['customerName','branchName','machineId','pickupRootName','orderOfPickupRoute','lastPickupDate','hoursFromPickup','numberOfGlassTanks','numbersOfGlassReset','numbersOfPatReset','numbersOfAluReset','totalBottles','totalVouchers','noGlassBinPickup','materialWeight','binWeight','totalWeight','pickupEveryday'];"></tr>
                        </tbody>
        
                    </table>
                </div>
            </ng-template> 
        </card-or-list-view>
        </mat-card-content>
        <button class="common-export-to-excel-btn float-right ml-2" mat-raised-button color="primary" (click)="export()"  matTooltip="Export">
            <i class="fa fa-file-excel-o mr-2 fontSize" aria-hidden="true"></i> Generate Plan
        </button>
    </mat-card>
</div>